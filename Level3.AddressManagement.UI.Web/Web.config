<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>

  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" requirePermission="false" />
    <section name="oracle.manageddataaccess.client" type="OracleInternal.Common.ODPMSectionHandler, Oracle.ManagedDataAccess, Version=4.122.1.0, Culture=neutral, PublicKeyToken=89b483f429c47342" />
  </configSections>

  <system.data>
    <DbProviderFactories>
      <remove invariant="Oracle.ManagedDataAccess.Client" />
      <add name="ODP.NET, Managed Driver" invariant="Oracle.ManagedDataAccess.Client" description="Oracle Data Provider for .NET, Managed Driver" type="Oracle.ManagedDataAccess.Client.OracleClientFactory, Oracle.ManagedDataAccess, Version=4.122.1.0, Culture=neutral, PublicKeyToken=89b483f429c47342" />
    </DbProviderFactories>
  </system.data>


  <oracle.manageddataaccess.client>
    <version number="*">
      <LDAPsettings>
        <LDAPsetting name="DIRECTORY_SERVERS" value="(oranamesrvr0-us.level3.com:389:636, oranamesrvr1-us.level3.com:389:636, oranamesrvr2-us.level3.com:389:636)" />
        <LDAPsetting name="DIRECTORY_SERVER_TYPE" value="oid" />
        <LDAPsetting name="DEFAULT_ADMIN_CONTEXT" value="dc=world" />
      </LDAPsettings>
      <settings>
        <setting name="NAMES.DIRECTORY_PATH" value="(LDAP)" />
      </settings>
      <!--<dataSources>
        <dataSource alias="DS_USER" descriptor="(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=F14-32)(PORT=1525))(CONNECT_DATA=(SID=EBDEV3BLAH))) "/>
      </dataSources>-->
    </version>
  </oracle.manageddataaccess.client>

  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <publisherPolicy apply="no" />
        <assemblyIdentity name="Oracle.ManagedDataAccess" publicKeyToken="89b483f429c47342" culture="neutral" />
        <bindingRedirect oldVersion="4.121.0.0 - 4.65535.65535.65535" newVersion="4.122.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-11.0.0.0" newVersion="11.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>


  <log4net>

    <root>
      <!-- log level = DEBUG/INFO/WARN/ERROR/FATAL -->
      <level value="INFO" />
      <appender-ref ref="RollingLogFileAppender" />
      <appender-ref ref="SmtpAppender" />
    </root>

    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="c:\\logs\\Level3.AddressManagement\\Level3.AddressManagement.UI.Web.log" />
      <appendToFile value="true" />
      <maxSizeRollBackups value="180" />
      <rollingStyle value="Date" />
      <datePattern value="yyyy-MM-dd" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger{2} - %message%newline" />
      </layout>
    </appender>

    <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender">
      <to value="brendan.muir@level3.com" />
      <from value="brendan.muir@level3.com" />
      <subject value="Leve3.AddressManagement.UI.Web: Logging Messages:  Local Dev" />
      <smtpHost value="scanmail.level3.com" />
      <authentication value="Basic" />
      <EnableSsl value="false" />
      <bufferSize value="512" />
      <lossy value="true" />
      <evaluator type="log4net.Core.LevelEvaluator">
        <!-- log level = DEBUG/INFO/WARN/ERROR/FATAL -->
        <threshold value="ERROR" />
      </evaluator>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline" />
      </layout>
    </appender>

  </log4net>

  <system.diagnostics>
    <trace autoflush="true">
      <listeners>
        <add name="textWriterTraceListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="c:\\logs\\Level3.AddressManagement\\log4net.txt" />
      </listeners>
    </trace>
  </system.diagnostics>

  <appSettings>

    <!-- Multi-Threading; Concurrent record processing -->
    <add key="NumberOfThreads" value="9" />

    <!-- GLM Web Service Layer-->
    <add key="GLMBaseUrl" value="http://glmenv1" />
    <add key="GLMAuthorizationHeaderUsername" value="SVC_SAP" />
    <add key="GLMAuthorizationHeaderApplicationID" value="3843" />

    <!-- CDW Query Stuff -->
    <add key="MinimumFirstOrderCreateDateForCDWPull" value="04/01/2018" />

    <!-- SAP Web Service Layer -->
    <add key="SAPBaseUrl" value="https://sapecq.corp.intranet" />

    <!--DEPRECATED:  FILE I/O-->
    <add key="RootWorkspaceDirectory" value="C:\temp\Level3.AddressManagement\_RootWorkspace" />

    <!--log4net troubleshooting -->
    <add key="log4net.Internal.Debug" value="true" />

  </appSettings>

  <connectionStrings>
    <add name="DS_USER" providerName="Oracle.ManagedDataAccess.Client" connectionString="Data Source=CILPD;User ID=DSL_FIN_PROD_RO; Password=DSL_FIN_PROD_RO;Enlist=false" />
    <add name="SQLSERVER" connectionString="Data Source=USIDCVSQLHR01; Initial Catalog=AddressManagement_DEV_DB_TBD; User Id=address_management_user; Password=@ddressM@n@gement123!" providerName="System.Data.SqlClient" />
  </connectionStrings>
  

  <system.web>
    <authentication mode="Windows" />
    <authorization>
      <!--Deny anonymous users-->
      <deny users="?" />
    </authorization>
    <compilation debug="true" targetFramework="4.6.1" />
    <httpRuntime targetFramework="4.6.1" />
    <pages>
      <namespaces>
        <add namespace="System.Web.Optimization" />
      </namespaces>
      <controls>
        <add assembly="Microsoft.AspNet.Web.Optimization.WebForms" namespace="Microsoft.AspNet.Web.Optimization.WebForms" tagPrefix="webopt" />
      </controls>
    </pages>
    <machineKey compatibilityMode="Framework45" validation="SHA1" decryptionKey="58221B8ECAA749822E13AA197BE858321212D1700E95D164" validationKey="4F76C467DDA7916B3CA7D6E73C49D798D9FEEA327F20CE3DB6400DA8A45FADAE61787F1EFFA8B6BD33325E9BE8C6BEE0EA8E002AB0122B84A8AAF514353BE58D" />
  </system.web>

  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
      <remove name="Telerik_Web_UI_WebResource_axd" />
      <add name="Telerik_Web_UI_WebResource_axd" verb="*" preCondition="integratedMode" path="Telerik.Web.UI.WebResource.axd" type="Telerik.Web.UI.WebResource" />
      <add name="Telerik_Web_UI_DialogHandler_aspx" verb="*" preCondition="integratedMode" path="Telerik.Web.UI.DialogHandler.aspx" type="Telerik.Web.UI.DialogHandler" />
      <add name="Telerik_Web_UI_SpellCheckHandler_axd" verb="*" preCondition="integratedMode" path="Telerik.Web.UI.SpellCheckHandler.axd" type="Telerik.Web.UI.SpellCheckHandler" />
      <add name="ChartHandler" path="ChartImage.axd" verb="*" type="Telerik.Web.UI.ChartHttpHandler" />
    </handlers>
  </system.webServer>

  <!-- Limit access via Windows Auth - Windows Auth MUST be enabled on the IIS VD or website -->
  <location path="ConfigSettingItemDetail.aspx">
    <system.web>
      <authorization>
        <!--
        <allow roles="LEVEL3\LNS-Oracle-c NOT A GOR" />  -->
        <allow users="LEVEL3\hansard.matt, LEVEL3\muir.brendan, LEVEL3\merkel.ben, LEVEL3\estrada.jennifer" />
        <deny users="*" />
      </authorization>
      <customErrors mode="Off"/>
    </system.web>
  </location>

  <!-- Cluster handling of auth seems to block and return 401s for some of the Telerik scripts and resources, so this will prevent that behavior-->
  <location path="ScriptResource.axd">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>
  <!-- Cluster handling of auth seems to block and return 401s for some of the Telerik scripts and resources, so this will prevent that behavior-->
  <location path="WebResource.axd">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>


  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" culture="neutral" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-6.0.0.0" newVersion="6.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" culture="neutral" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>      
    </assemblyBinding>
  </runtime>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701" />
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" />
    </compilers>
  </system.codedom>
</configuration>